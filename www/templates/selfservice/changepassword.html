<ion-view view-title="เปลี่ยนรหัสผ่าน">

  <ion-content>

  	<form name="changePasswordForm" novalidate="" ng-submit="changePassword(changePasswordForm)">

	    <div class="list">

		 	<label class="item item-input" ng-class="{ 'has-errors' : changePasswordForm.oldPassword.$invalid, 'no-errors' : changePasswordForm.oldPassword.$valid}" >
		 		<span class="input-label">รหัสผ่านเดิม</span>
		    	<input type="password" name='oldPassword' ng-model='changePassword.oldPassword' required>
		  	</label>
		  	<div class="error-container" ng-show="changePasswordForm.oldPassword.$error" ng-messages="changePasswordForm.$submitted && changePasswordForm.oldPassword.$error">
              <div ng-messages-include="error-list.html"></div>
            </div>

		  	<label class="item item-input" ng-class="{ 'has-errors' : changePasswordForm.newPassword.$invalid, 'no-errors' : changePasswordForm.newPassword.$valid}">
		  		<span class="input-label">รหัสผ่านใหม่</span>
		    	<!-- <input type="password" name='newPassword' ng-model='changePassword.newPassword' ng-minlength='8' ng-maxlength='24' ng-pattern='/(?=.*\d)(?=.*\d)/' required> -->
		    	<input type="password" name='newPassword' ng-model='changePassword.newPassword' ng-pattern='/^(?=.*\d)(?=.*[a-zA-Z])/' required>
		  	</label>
		  	<div class="error-container" ng-show="changePasswordForm.newPassword.$error" ng-messages="changePasswordForm.$submitted && changePasswordForm.newPassword.$error">
              <div ng-messages-include="error-list.html"></div>
            </div>

            <label class="item item-input" ng-class="{ 'has-errors' : changePasswordForm.confirmNewPassword.$invalid, 'no-errors' : changePasswordForm.confirmNewPassword.$valid}">
		  		<span class="input-label">ยืนยันรหัสผ่าน</span>
		    	<!-- <input type="password" name='confirmNewPassword' ng-model='changePassword.confirmNewPassword' ng-pattern='changePassword.newPassword' required> -->
		    	<input type="password" name='confirmNewPassword' ng-model='changePassword.confirmNewPassword' required data-password-verify="changePassword.newPassword">
		  	</label>
		  	<div class="error-container" ng-show="changePasswordForm.confirmNewPassword.$error.passwordVerify">
		  		<div class="error">
				  <i class="ion-information-circled"></i> 
				  รหัสผ่านต้องเหมือนกัน!
				</div>
            </div>

		</div>

		<!-- <div class='row'>
	  		<div class='col'>
	  			<span style='color:gray;'>เมื่อเปลี่ยนรหัสผ่านแล้วรหัสผ่านสำหรับใช้งาน Internet จะถูกเปลี่ยนด้วยเช่นกัน</span>
	  		</div>
	  	</div>   -->

		<input type='submit' ng-disabled='noInternet' class='button button-block button-positive' value='ตกลง' />

		<div class='list'>
			<div class='item item-divider'>
				คำแนะนำ
			</div>
			<div class='item item-body'>
				<p>- รหัสผ่าน 8-24 ตัวอักษร</p>
				<p>- ต้องประกอบด้วยตัวเลขและตัวอักษร</p>
				<p>- ไม่สามารถตั้งรหัสผ่านเดิมที่เคยตั้งไปแล้วได้</p>
				<p>- เมื่อเปลี่ยนรหัสผ่านแล้วรหัสผ่านสำหรับใช้งาน Internet จะถูกเปลี่ยนด้วยเช่นกัน</p>
			</div>
		</div>

	</form> 



	<script id="error-list.html" type="text/ng-template">  
		<div class="error" ng-message="required">
		  <i class="ion-information-circled"></i> 
		  ต้องกรอกข้อมูล!
		</div>
		<div class="error" ng-message="minlength">
	      <i class="ion-information-circled"></i> 
	      รหัสผ่านต้องมากกว่า 8 ตัวอักษร!
	    </div>
	    <div class="error" ng-message="maxlength">
	      <i class="ion-information-circled"></i> 
	      รหัสผ่านต้องน้อยกว่า 24 ตัวอักษร!
	    </div>
	    <div class="error" ng-message="pattern">
	      <i class="ion-information-circled"></i> 
	      ต้องประกอบด้วยตัวเลขและตัวอักษร
	    </div>
	
	</script> 

  </ion-content>
    
</ion-view>



